/******/!function(t){function e(a){if(n[a])return n[a].exports;var o=n[a]={exports:{},id:a,loaded:!1};return t[a].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}// webpackBootstrap
/******/
var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var a,o=n(1),r=n(2),i=n(3),s=n(4),c=n(5),l=n(6),d=n(7),p=n(8),u=n(9),m=n(10),f=n(11),v=n(12),g=n(13);!function(t){"use strict";angular.module("expensio",["ngAnimate","ui.router","ui.bootstrap","toastr"]).config(o.config).config(r.routerConfig).run(i.runBlock).service("store",p.StoreService).controller("MainController",s.MainController).controller("ModalInstanceController",c.ModalInstanceController).controller("ExpenseFormController",l.ExpenseFormController).controller("ExpenseListController",d.ExpenseListController).component("navbar",u.navbar).component("expenseList",m.expenseList).directive("donutChart",f.donutChart).directive("scatterChart",v.scatterChart).directive("gaugeChart",g.gaugeChart)}(a||(a={}))},function(t,e){function n(t,e){t.debugEnabled(!0),e.allowHtml=!0,e.timeOut=3e3,e.positionClass="toast-top-right",e.preventDuplicates=!0,e.progressBar=!0,Array.prototype.groupBy=function(t){var e={};return this.forEach(function(n){e[n[t]]=e[n[t]]||[],e[n[t]].push(n)}),e}}n.$inject=["$logProvider","toastrConfig"],e.config=n},function(t,e){function n(t,e){t.state("home",{url:"/",templateUrl:"app/main/main.html",controller:"MainController",controllerAs:"main"}),e.otherwise("/")}n.$inject=["$stateProvider","$urlRouterProvider"],e.routerConfig=n},function(t,e){function n(t){t.debug("runBlock end")}n.$inject=["$log"],e.runBlock=n},function(t,e){var n=function(){function t(t,e){var n=this;this.toastr=e,t(function(){n.showToastr()},2e3)}return t.$inject=["$timeout","toastr"],t.prototype.showToastr=function(){this.toastr.info("Hola from Expensio!")},t}();e.MainController=n},function(t,e){var n=function(){function t(t,e,n){this.$scope=t,this.$modalInstance=e,this.store=n}return t.$inject=["$scope","$modalInstance","store"],t.prototype.submit=function(){var t={id:(new Date).valueOf(),description:this.$scope.description,amount:Number(this.$scope.amount),category:this.$scope.category,paymentMode:this.$scope.paymentMode,account:this.$scope.account};this.store.save(t),this.$modalInstance.close()},t.prototype.cancel=function(){this.$modalInstance.dismiss("cancel")},t}();e.ModalInstanceController=n},function(t,e){var n=function(){function t(t){this.$modal=t}return t.$inject=["$modal"],t.prototype.open=function(){this.modalInstance=this.$modal.open({animation:!0,templateUrl:"app/components/expenseForm/expenseForm.html",controller:"ModalInstanceController",controllerAs:"modal",bindToController:!0})},t}();e.ExpenseFormController=n},function(t,e){var n=function(){function t(t){this.store=t,this.expenses=t.expenses}return t.$inject=["store"],t}();e.ExpenseListController=n},function(t,e){var n=function(){function t(){}return t}();e.Expense=n;var a=function(){function t(){}return t}();e.Account=a;var o=function(){function t(){var t=[{id:1450217381460,description:"Lunch",amount:100,category:"food",account:"salary",paymentMode:"debit-card"},{id:1450246181810,description:"Jeans",amount:799,category:"shopping",account:"business",paymentMode:"credit-card"},{id:1450317382160,description:"Rent",amount:4150,category:"rent",account:"farming",paymentMode:"cash"},{id:1450340382510,description:"Dinner",amount:80,category:"food",account:"salary",paymentMode:"cash"},{id:1450417382860,description:"Petrol",amount:500,category:"fuel",account:"salary",paymentMode:"cash"},{id:1450517382860,description:"Groceries",amount:1e3,category:"shopping",account:"salary",paymentMode:"credit-card"},{id:1450691335302,description:"team lunch",amount:2e3,category:"food",paymentMode:"debit-card",account:"business"},{id:1450772764033,description:"Bday Party",amount:5e3,category:"food",paymentMode:"credit-card",account:"business"},{id:1450775163545,description:"December Rent",amount:4150,category:"rent",paymentMode:"debit-card",account:"salary"},{id:1450778997001,description:"Memory Card",amount:600,category:"shopping",paymentMode:"debit-card",account:"business"},{id:1450861404912,description:"Helmet",amount:2e3,category:"shopping",paymentMode:"cash",account:"salary"}],e=[{name:"salary",balance:98320},{name:"business",balance:97201},{name:"farming",balance:95850}];null==localStorage.getItem("ls.expenses")&&localStorage.setItem("ls.expenses",JSON.stringify(t)),null==localStorage.getItem("ls.accounts")&&localStorage.setItem("ls.accounts",JSON.stringify(e)),this.expenseData=JSON.parse(localStorage.getItem("ls.expenses")),this.accountData=JSON.parse(localStorage.getItem("ls.accounts"))}return Object.defineProperty(t.prototype,"expenses",{get:function(){return this.expenseData},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"accounts",{get:function(){return this.accountData},enumerable:!0,configurable:!0}),t.prototype.save=function(t){this.expenseData.push(t),this.updateAccounts(t),localStorage.setItem("ls.expenses",JSON.stringify(this.expenseData))},t.prototype.updateAccounts=function(t){var e=this.accountData.filter(function(e){return e.name===t.account})[0];e.balance=e.balance-t.amount},t}();e.StoreService=o},function(t,e){e.navbar={restrict:"E",templateUrl:"app/components/navbar/navbar.html"}},function(t,e){e.expenseList={restrict:"E",templateUrl:"app/components/expenseList/expenseList.html",controller:"ExpenseListController as vm"}},function(t,e){function n(){return{restrict:"E",replace:!1,scope:{payment:"@"},link:function(t,e,n){var a=d3.scale.ordinal().range(["rgba(50, 100, 200, 0.9)","rgba(50, 100, 200, 0.7)","rgba(50, 100, 200, 0.5)","rgba(50, 100, 200, 0.3)","rgba(50, 100, 200, 0.1)"]),o=100,r=70,i=12*o/100,s=function(n){var s=t.calculateData(n);d3.select(e[0]).selectAll("*").remove();var c=d3.select(e[0]).append("svg").attr("width",2*o).attr("height",2*o),l=c.append("g").attr("transform","translate("+o+","+o+")"),d=d3.svg.arc().innerRadius(r).outerRadius(o),p=d3.layout.pie().value(function(t){return t.amount}),u=l.selectAll(".arc").data(p(s)).enter().append("g").attr("class","arc");u.append("path").attr("d",d).attr("fill",function(t){return a(t.data.amount)}),u.append("text").attr("transform",function(t){return"translate("+d.centroid(t)+")"}).attr("text-anchor","middle").attr("font-size",i+"px").text(function(t){return t.data.category}),c.append("text").attr("text-anchor","middle").attr("font-size",i+"px").attr("transform","translate("+o+","+o+")").text(function(e){return t.payment})};t.$watch("expenses",function(t,e){return s(t)},!0)},controller:["$scope","store",function(t,e){t.expenses=e.expenses,t.calculateData=function(e){var n=e.filter(function(e){return e.paymentMode===t.payment}).groupBy("category"),a=[];for(var o in n)if(n.hasOwnProperty(o)){var r=n[o].reduce(function(t,e){return t+=e.amount},0);a.push({category:o,amount:r})}return a}}]}}e.donutChart=n},function(t,e){function n(){return{restrict:"E",replace:!1,scope:{},link:function(t,e,n){var a={top:0,right:0,bottom:0,left:0},o=700-a.left-a.right,r=300-a.top-a.bottom,i=30,s=function(t){var n=d3.time.scale().domain([new Date(t[0].id),d3.time.day.offset(new Date(t[t.length-1].id),1)]).range([i,o-i]),a=d3.scale.linear().domain([d3.min(t,function(t){return new Date(t.id).getHours()})-1,d3.max(t,function(t){return new Date(t.id).getHours()})+1]).rangeRound([r,0]),s=d3.scale.linear().domain([0,d3.max(t,function(t){return t.amount})]).range([5,20]),c=d3.scale.ordinal().range(["rgba(50, 100, 200, 0.9)","rgba(50, 100, 200, 0.7)","rgba(50, 100, 200, 0.5)","rgba(50, 100, 200, 0.3)","rgba(50, 100, 200, 0.1)"]),l=d3.svg.axis().scale(n).orient("bottom").ticks(d3.time.days,1).tickFormat(d3.time.format("%d/%m")).tickSize(1).tickPadding(10),d=d3.svg.axis().scale(a).orient("left").tickSize(.5).tickPadding(5);d3.select(e[0]).selectAll("*").remove();var p=d3.select(e[0]).append("svg").attr("class","scatter-chart").attr("width",o).attr("height",r+i+10).append("g").attr("transform","translate(30, 10)");p.selectAll("circle").data(t).enter().append("circle").attr("cx",function(t){return n(new Date(t.id))}).attr("cy",function(t){return a(new Date(t.id).getHours())}).attr("r",function(t){return s(t.amount)}).style("fill",function(t){return c(t.amount)}),p.append("g").attr("class","axis").attr("transform","translate(0,"+r+")").call(l),p.append("g").attr("class","axis").attr("transform","translate(0, 0)").call(d)};t.$watch("expenses",function(t,e){return s(t)},!0)},controller:["$scope","store",function(t,e){t.expenses=e.expenses}]}}e.scatterChart=n},function(t,e){function n(){return{restrict:"E",replace:!1,scope:{account:"@"},link:function(t,e,n){var a=200,o=160,r=Math.min(a,o)/2,i=20*a/300,s=d3.interpolateHsl(d3.rgb("#FD0"),d3.rgb("#D55")),c=.025,l=10,d=.75,p=function(t){return t*Math.PI/180},u=function(t){return 360*t},m=function(t){return p(u(t))},f=function(n){var p=n.filter(function(e){return e.name===t.account})[0],u=1-p.balance/1e5*100/100;d3.select(e[0]).selectAll("*").remove();var f=d3.select(e[0]).append("svg").attr("width",a).attr("height",o/2),v=f.append("g").attr("transform","translate("+a/2+", "+o/2+")");v.append("path").attr("class","chart-filled").attr("fill",function(){return s(u)}),v.append("path").attr("class","chart-empty").style("fill","#eee");var g=d3.svg.arc().outerRadius(r-l).innerRadius(r-l-i),h=d3.svg.arc().outerRadius(r-l).innerRadius(r-l-i),y=d,b=m(y),x=b+m(u);y+=u/2,g.startAngle(b).endAngle(x),b=m(y),x=b+m((1-u)/2),h.startAngle(b+c).endAngle(x),v.select(".chart-filled").attr("d",g),v.select(".chart-empty").attr("d",h),f.append("text").attr("text-anchor","middle").attr("font-size","12px").attr("transform","translate("+a/2+","+(a/2-20)+")").text(t.account),f.append("text").attr("text-anchor","middle").attr("font-size","12px").attr("transform","translate("+a/2+","+(a/2-40)+")").text((100*u).toFixed(2)+"%")};t.$watch("accounts",function(t,e){return f(t)},!0)},controller:["$scope","store",function(t,e){t.accounts=e.accounts}]}}e.gaugeChart=n}]),angular.module("expensio").run(["$templateCache",function(t){t.put("app/main/main.html",'<div class="container"><div><navbar></navbar></div><div class="row"><div class="col-md-8"><div class="row"><div class="col-sm-12"><div class="panel panel-default"><div class="panel-heading">Payment Distribution</div><div class="panel-body"><div class="row"><div class="col-sm-4"><donut-chart payment="cash"></donut-chart></div><div class="col-sm-4"><donut-chart payment="debit-card"></donut-chart></div><div class="col-sm-4"><donut-chart payment="credit-card"></donut-chart></div></div></div></div><div class="panel panel-default"><div class="panel-heading">Expense Graph</div><div class="panel-body"><scatter-chart></scatter-chart></div></div><div class="panel panel-default"><div class="panel-heading">Account Usage</div><div class="panel-body"><div class="row"><div class="col-sm-4"><gauge-chart account="salary"></gauge-chart></div><div class="col-sm-4"><gauge-chart account="business"></gauge-chart></div><div class="col-sm-4"><gauge-chart account="farming"></gauge-chart></div></div></div></div></div></div></div><div class="col-md-4"><expense-list></expense-list></div></div></div>'),t.put("app/components/expenseForm/expenseForm.html",'<div class="modal-header"><h3 class="modal-title">Expense Details</h3></div><div class="modal-body"><form role="form"><div class="form-group"><label for="description">Description</label> <input type="text" class="form-control" ng-model="description" name="description" placeholder="Enter expense details"></div><div class="form-group"><label for="amount">Amount</label> <input type="text" class="form-control" ng-model="amount" name="amount" placeholder="Enter amount"></div><div class="form-group"><label for="category">Category</label><select class="form-control" name="category" ng-model="category"><option value="">---Specify Category---</option><option value="food">Food</option><option value="shopping">Shopping</option><option value="fuel">Fuel</option><option value="rent">Rent</option></select></div><div class="form-group"><label for="category">Payment Mode</label><select class="form-control" name="paymentMode" ng-model="paymentMode"><option value="">---Specify Payment Mode---</option><option value="cash">Cash</option><option value="credit-card">Credit Card</option><option value="debit-card">Debit Card</option></select></div><div class="form-group"><label for="category">Account</label><select class="form-control" name="incomeSource" ng-model="account"><option value="">---Specify Account---</option><option value="salary">Salary</option><option value="business">Business</option><option value="farming">Farming</option></select></div></form></div><div class="modal-footer"><button type="submit" class="btn btn-primary" ng-click="modal.submit()">Submit</button> <button type="button" class="btn btn-default" ng-click="modal.cancel()">Cancel</button></div>'),t.put("app/components/expenseList/expenseList.html",'<div class="row"><div class="panel panel-default"><div class="panel-heading">Expense List</div><div><div ng-repeat="expense in vm.expenses track by expense.id | orderBy:\'id\'"><div class="expense--card clearfix"><p>Spent <b>{{expense.amount}}</b> for {{expense.description}} ({{expense.category}}) with {{expense.paymentMode}}</p><span class="pull-right">{{expense.account }} - {{expense.id | date}}</span></div></div></div></div></div>'),t.put("app/components/navbar/navbar.html",'<nav class="navbar navbar-static-top navbar-inverse"><div class="container-fluid"><div class="navbar-header"><a class="navbar-brand acme-navbar-text" href="#">Expensio</a></div><div class="navbar-header navbar-right" ng-controller="ExpenseFormController as form"><input ng-click="form.open()" class="btn btn-default" type="button" value="Add Expense" style="margin: 8px 0;"></div></div></nav>')}]);
//# sourceMappingURL=../maps/scripts/app-099ab0ce26.js.map
